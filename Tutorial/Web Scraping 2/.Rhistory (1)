read_html() %>%
html_table(header=T)
str(US_CENSUS)
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T)
URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]]
URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2018 Density`)
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2018 Density`)
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2018 Density`)
str(US_CENSUS)
SAFE2
8537673//8580015
8537673/8580015
(8580015-8537673)
/8537673
(8580015-8537673)/8537673
(8580015-8175133'')/8537673
(8580015-8175133)/8175133
8580015-8175133
8175133*1.25
8175133*1.0025
8537673*1.0025
US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`)
US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`) %>%
mutate(Density=str_replace_all(Density,",",""))
regex(pattern="[,/.*]")
?reges
?regex
US_CENSUS2$Density[1]
US_CENSUS2 = US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`)
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"[,/.*]","")
str_replace(US_CENSUS2$Density[1],"[/.*]","")
str_replace(US_CENSUS2$Density[1],"[//.*]","")
str_replace(US_CENSUS2$Density[1],"[//.*]","")
str_replace(US_CENSUS2$Density[1],"[\/(.*)]","")
str_replace(US_CENSUS2$Density[1],"[/(.*)]","")
str_replace(US_CENSUS2$Density[1],"\/km2","")
str_replace(US_CENSUS2$Density[1],"/\/km2","")
str_replace(US_CENSUS2$Density[1],"//\/km2","")
str_replace(US_CENSUS2$Density[1],"/\/km2","")
str_replace(US_CENSUS2$Density[1],"/km2","")
str_replace(US_CENSUS2$Density[1],"//km2","")
str_replace(US_CENSUS2$Density[1],"[//km2]","")
str_replace(US_CENSUS2$Density[1],"[/km2]","")
str_replace(US_CENSUS2$Density[1],"[:punct:]","")
str_replace(US_CENSUS2$Density[1],"[:punct: /km]","")
"[:punct:\/]"
str_replace(US_CENSUS2$Density[1],"[:punct:\/]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/...]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/(.*)]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/km\.]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/km/\.]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/km\\.]","")
str_replace(US_CENSUS2$Density[1],"[:punct:\\/\\km\\.]","")
str_replace(US_CENSUS2$Density[1],"[:punct:alpha:]","")
str_replace(US_CENSUS2$Density[1],"[:punct: :alpha:]","")
str_replace(US_CENSUS2$Density[1],"[:alpha:]","")
str_replace(US_CENSUS2$Density[1],"\\/(.*)","")
str_replace(US_CENSUS2$Density[1],":punct:" "\\/(.*)","")
US_CENSUS2 = US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`) %>%
mutate(Density=str_replace_all(Density,"[,]","")) %>%
US_CENSUS2$Density[1]
US_CENSUS2 = US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"\\/(.*)","")
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"\\/(.*)","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = str_replace(Density[1],"\\/(.*)",""))
str(US_CENSUS3)
US_CENSUS2
US_CENSUS3
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = str_replace(Density,"\\/(.*)",""))
str(US_CENSUS3)
US_CENSUS2 = US_CENSUS %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
rename(Density=`2018 Density`) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"\\/(.*)","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"\\/(.*)","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,FINAL_CENSUS.CSV)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text() %>%
.[[1]]
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text() %>%
.[[1]]
SAFE
URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text()
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2018 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2018 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"\\/(.*)","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"\\/(.*)","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE_VS_DANGEROUS = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text()
print(SAFE_VS_DANGEROUS)
CLASS=c(rep("S", 10),rep("D", 10)) #S=SAFE and D=DANGEROUS
print(CLASS)
SAFE_VS_DANGEROUS2=cbind(SAFE_VS_DANGEROUS,CLASS)
head(SAFE_VS_DANGEROUS2)
tail(SAFE_VS_DANGEROUS2)
names(SAFE_VS_DANGEROUS2)=c("STATE","CLASS")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2018 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2018 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"\\/(.*)","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"\\/(.*)","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE_VS_DANGEROUS = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text()
print(SAFE_VS_DANGEROUS)
CLASS=c(rep("S", 10),rep("D", 10)) #S=SAFE and D=DANGEROUS
print(CLASS)
SAFE_VS_DANGEROUS2=as.tibble(cbind(SAFE_VS_DANGEROUS,CLASS))
names(SAFE_VS_DANGEROUS2)=c("STATE","CLASS")
head(SAFE_VS_DANGEROUS2)
tail(SAFE_VS_DANGEROUS2)
CLASS=c(rep("S", 10),rep("D", 10)) #S=SAFE and D=DANGEROUS
print(CLASS)
SAFE_VS_DANGEROUS2=as.tibble(cbind(SAFE_VS_DANGEROUS,CLASS))
names(SAFE_VS_DANGEROUS2)=c("STATE","CLASS")
head(SAFE_VS_DANGEROUS2)
tail(SAFE_VS_DANGEROUS2)
CLASS=c(rep("S", 10),rep("D", 10)) #S=SAFE and D=DANGEROUS
print(CLASS)
SAFE_VS_DANGEROUS2=as.tibble(cbind(SAFE_VS_DANGEROUS,CLASS))
names(SAFE_VS_DANGEROUS2)=c("STATE","CLASS")
write_csv(SAFE_VS_DANGEROUS2,"FINAL_SAFE_VS_DANGEROUS.CSV")
head(SAFE_VS_DANGEROUS2)
tail(SAFE_VS_DANGEROUS2)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
US_CENSUS2$Density[1]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1]
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2019 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"/.*","")
str_replace(US_CENSUS2$Density[1],"/.*","")
str_replace(US_CENSUS2$Density[1],"/*","")
str_replace(US_CENSUS2$Density[1],"/*","")
str_replace(US_CENSUS2$Density[1],"/.","")
str_replace(US_CENSUS2$Density[1],"/.*","")
US_CENSUS2$Density[1]
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE_VS_DANGEROUS = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text()
print(SAFE_VS_DANGEROUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"/.","")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
str_replace("/mm2","/.*","")
str_replace("30/mm2","/.*","")
str_replace("30/mm2","/km2*","")
str_replace("30/mm2","/mm2*","")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2019 Density`)
URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]]
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2020 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2020 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2020 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
US_CENSUS2
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"/.*","")
str_replace(US_CENSUS2$Density[1],"/.","")
str_replace(US_CENSUS2$Density[1],"/.*","")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2020 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
URL.SAFE_VS_DANGEROUS = "https://www.securitysales.com/fire-intrusion/2018-safest-most-dangerous-states-us/"
SAFE_VS_DANGEROUS = URL.SAFE_VS_DANGEROUS %>%
read_html() %>%
html_nodes(css="#articleContentWrapper li") %>%
html_text()
print(SAFE_VS_DANGEROUS)
CLASS=c(rep("S", 10),rep("D", 10)) #S=SAFE and D=DANGEROUS
print(CLASS)
SAFE_VS_DANGEROUS2=as.tibble(cbind(SAFE_VS_DANGEROUS,CLASS))
names(SAFE_VS_DANGEROUS2)=c("STATE","CLASS")
write_csv(SAFE_VS_DANGEROUS2,"FINAL_SAFE_VS_DANGEROUS.CSV")
head(SAFE_VS_DANGEROUS2)
tail(SAFE_VS_DANGEROUS2)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
VIOLENT3[str_detect(VIOLENT3$State,"[,(0-9){1}]"),]$State
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metro",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
data(zip_codes)
ZIP=zip_codes
str(ZIP)
ZIP2 = ZIP %>%
group_by(city,state) %>%
summarize(lat=mean(latitude),lon=mean(longitude)) %>%
ungroup()
write_csv(ZIP2,"FINAL_ZIP.CSV")
View(ZIP2)
View(ZIP2)
View(VIOLENT6)
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]]
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]]
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2020 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2020 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"/.","")
US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.","")))
US_CENSUS2
as.numeric(str_replace(US_CENSUS2$Density[1],"/.","")) #Test
