read_html() %>%
html_table(fill=T) %>%
.[[3]]
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]]
View(STATE_ABBREV)
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T)
STATE_ABBREV[[1]]
STATE_ABBREV[[2]]
STATE_ABBREV[[3]]
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]]
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[2]]
str(VIOLENT)
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
View(VIOLENT)
VIOLENT2=VIOLENT[-1,1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
View(VIOLENT)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
VIOLENT3=VIOLENT2 %>%
mutate(Population=str_replace_all(Population,",","")) %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
View(VIOLENT2)
View(VIOLENT)
VIOLENT3=VIOLENT2 %>%
mutate(Population=str_replace_all(Population,",","")) %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
View(VIOLENT)
View(VIOLENT2)
View(VIOLENT3)
View(VIOLENT3)
View(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[-2*]"),]$City
View(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[-4*]"),]$City
VIOLENT3[str_detect(VIOLENT3$City,"[-34*]"),]$City
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[*]",""))
View(VIOLENT4)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[3]",""))
View(VIOLENT4)
VIOLENT4[str_detect(VIOLENT4$City,"[-34*]"),]$City
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[34]",""))
VIOLENT4[str_detect(VIOLENT4$City,"[-34*]"),]$City
View(VIOLENT4)
VIOLENT3[str_detect(VIOLENT3$City,"[-34*]"),]$City
VIOLENT4[str_detect(VIOLENT4$City,"[-34*]"),]$City
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[-(0-9){1}*]",""))
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}*]",""))
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}*]",""))
View(VIOLENT4)
VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City))
View(VIOLENT5)
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
View(VIOLENT6)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}*]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
data(zip_codes)
ZIP=zip_codes
str(ZIP)
View(ZIP)
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
ZIP2 = ZIP %>%
group_by(city,state) %>%
summarize(lat=mean(latitude),lon=mean(longitude)) %>%
ungroup()
write_csv(ZIP2,"FINAL_ZIP.CSV")
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-1,1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City),
City=ifelse(City=="Las Vegas Metropolitan Police Department","Las Vegas",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City),
City=ifelse(City=="Las Vegas Metropolitan Police Department","Las Vegas",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
View(VIOLENT4)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City),
City=ifelse(City=="Las Vegas Metropolitan Police Department","Las Vegas",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
data(zip_codes)
ZIP=zip_codes
str(ZIP)
ZIP2 = ZIP %>%
group_by(city,state) %>%
summarize(lat=mean(latitude),lon=mean(longitude)) %>%
ungroup()
write_csv(ZIP2,"FINAL_ZIP.CSV")
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
head(STATE_ABBREV)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
head(STATE_ABBREV)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T)
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T)
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]]
URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
head(STATE_ABBREV)
STATE_ABBREV_TOP = STATE_ABBREV[,1:2]
names(STATE_ABBREV_TOP)=c("State","state")
STATE_ABBREV_BOT = STATE_ABBREV[,3:4]
names(STATE_ABBREV_BOT)=c("State","state")
STATE_ABBREV2=rbind(STATE_ABBREV_TOP,STATE_ABBREV_BOT) %>% arrange(State)
head(STATE_ABBREV2)
write_csv(STATE_ABBREV2,"FINAL_STATE_ABBREV.CSV")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
VIOLENT=read_csv("FINAL_VIOLENT.CSV")
ZIP=read_csv("FINAL_ZIP.CSV")
ABBREV=read_csv("FINAL_STATE_ABBREV.CSV")
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2019 Density`)
str(US_CENSUS)
URL.US_CENSUS = "http://worldpopulationreview.com/us-cities/"
US_CENSUS = URL.US_CENSUS %>%
read_html() %>%
html_table(header=T,fill=T) %>%
.[[1]] %>%
select(Name, State, Change, `2019 Density`)
str(US_CENSUS)
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","") #Test
US_CENSUS3 =US_CENSUS2 %>%
mutate(Density = as.numeric(str_replace(Density,"/.*","")))
str(US_CENSUS3)
write_csv(US_CENSUS3,"FINAL_CENSUS.CSV")
US_CENSUS2$Density[1]
str_replace(US_CENSUS2$Density[1],"/.*","")
US_CENSUS2 = US_CENSUS %>%
rename(Density=`2019 Density`) %>%
mutate(Change=as.numeric(str_replace(Change,"%",""))) %>%
mutate(Density=str_replace_all(Density,"[,]",""))
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","")
str_replace(US_CENSUS2$Density[1],"/.","")
str_replace(US_CENSUS2$Density[1],"/*","")
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/*","")
US_CENSUS2$Density[1] #Example
str_replace(US_CENSUS2$Density[1],"/.*","")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-1,1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
View(VIOLENT3)
View(VIOLENT2)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City),
City=ifelse(City=="Las Vegas Metropolitan Police Department","Las Vegas",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
View(VIOLENT4)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City),
City=ifelse(City=="Savannah-Chatham Metropolitan","Savannah",City),
City=ifelse(City=="Las Vegas Metropolitan Police Department","Las Vegas",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metropolitan",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
data(zip_codes)
ZIP=zip_codes
str(ZIP)
ZIP2 = ZIP %>%
group_by(city,state) %>%
summarize(lat=mean(latitude),lon=mean(longitude)) %>%
ungroup()
write_csv(ZIP2,"FINAL_ZIP.CSV")
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
head(STATE_ABBREV)
STATE_ABBREV_TOP = STATE_ABBREV[,1:2]
names(STATE_ABBREV_TOP)=c("State","state")
STATE_ABBREV_BOT = STATE_ABBREV[,3:4]
names(STATE_ABBREV_BOT)=c("State","state")
STATE_ABBREV2=rbind(STATE_ABBREV_TOP,STATE_ABBREV_BOT) %>% arrange(State)
head(STATE_ABBREV2)
write_csv(STATE_ABBREV2,"FINAL_STATE_ABBREV.CSV")
View(VIOLENT)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9)]"),]$City
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
View(VIOLENT6)
install.packages("noncensus")
library(noncensus)
remove.packages("noncensus", lib="~/R/win-library/3.5")
install.packages("noncensus")
install.github("https://github.com/cran/noncensus")
library(devtools)
install.github("https://github.com/cran/noncensus")
install_github("https://github.com/cran/noncensus")
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
VIOLENT2=VIOLENT[-1,1:8]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
VIOLENT2=VIOLENT[-1,1:8]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
VIOLENT2=VIOLENT[-1,1:8]
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
VIOLENT3[str_detect(VIOLENT3$City,"[,(0-9){1}]"),]$City
VIOLENT3[str_detect(VIOLENT3$State,"[,(0-9){1}]"),]$State
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT4$City
sort(VIOLENT4$City)
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metro",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
VIOLENT4 = VIOLENT3 %>%
mutate(City=str_replace_all(City,"[,(0-9){1}]","")) %>%
mutate(State=str_replace_all(State,"[,(0-9){1}]",""))
VIOLENT5 = VIOLENT4 %>%
mutate(City=ifelse(City=="Charlotte-Mecklenburg","Charlotte",City))
VIOLENT6 = VIOLENT5 %>%
mutate(City=str_replace(City,"Metro",""))
write_csv(VIOLENT6,"FINAL_VIOLENT.CSV")
data(zip_codes)
ZIP=zip_codes
str(ZIP)
ZIP2 = ZIP %>%
group_by(city,state) %>%
summarize(lat=mean(latitude),lon=mean(longitude)) %>%
ungroup()
write_csv(ZIP2,"FINAL_ZIP.CSV")
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
URL.STATE_ABBREV = "https://state.1keydata.com/state-abbreviations.php"
STATE_ABBREV = URL.STATE_ABBREV %>%
read_html() %>%
html_table(fill=T) %>%
.[[3]] %>%
.[-1,]
head(STATE_ABBREV)
head(VIOLENT6[,1:4],3)
head(ZIP2,3)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
VIOLENT2=VIOLENT[-c(1,2),1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
STATE_ABBREV_TOP = STATE_ABBREV[,1:2]
names(STATE_ABBREV_TOP)=c("State","state")
STATE_ABBREV_BOT = STATE_ABBREV[,3:4]
names(STATE_ABBREV_BOT)=c("State","state")
STATE_ABBREV2=rbind(STATE_ABBREV_TOP,STATE_ABBREV_BOT) %>% arrange(State)
head(STATE_ABBREV2)
write_csv(STATE_ABBREV2,"FINAL_STATE_ABBREV.CSV")
